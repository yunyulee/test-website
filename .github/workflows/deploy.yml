name: Deploy to GitHub Pages

on:
  push:
    branches:
      - main  # 只有當 main 分支有更新時，才會觸發自動部署

jobs:
  deploy:
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      - name: Set up Hugo
        uses: peaceiris/actions-hugo@v2
        with:
          hugo-version: '0.114.0'  # 這是 Hugo 的版本，可以根據需要修改

      - name: Build the site
        run: hugo --minify -d ./website_output  # 這會生成靜態網站到 website_output 目錄
        working-directory: ./nuriePublicWebSite

      - name: Deploy to GitHub Pages
        uses: peaceiris/actions-gh-pages@v3
        with:
          deploy_branch: gh-pages  # 指定用於部署的分支
          github_token: ${{ secrets.GITHUB_TOKEN }}  # 使用 GitHub 提供的自動生成 Token 來進行推送
          folder: website_output  # 部署靜態網站的目錄，這裡改為 website_output
